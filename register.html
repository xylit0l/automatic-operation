<!DOCTYPE html>
<html lang="en">
<head>
    <title>自动化运维 | 注册用户</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" href="css/unicorn.login.css" />
    <body>
        <div id="logo">
            <img src="img/logo.png" alt="自动化运维" />
        </div>
        <div id="reg-box">
            <form id="reg-form" class="form-vertical"/>
            <p class="error-msg"></p>
            <div class="control-group">
                <div class="controls">
                    <div class="input-prepend">
                        <span class="add-on"><i class="icon-user"></i></span><input type="text" id="tx_user" placeholder="用户名" />
                    </div>
                </div>
            </div>
            <div class="control-group">
                <div class="controls">
                    <div class="input-prepend">
                        <span class="add-on"><i class="icon-lock"></i></span><input type="password" id="tx_pwd" placeholder="密码" />
                    </div>
                </div>
            </div>
            <div class="control-group">
                <div class="controls">
                    <div class="input-prepend">
                        <span class="add-on"><i class="icon-lock"></i></span><input type="password" id="tx_c_pwd" placeholder="确认密码" />
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <span class="pull-left"><a href="login.html" class="flip-link" id="login">我已经有一个账户.</a></span>
                <span class="pull-right"><input type="button" class="btn btn-inverse" id="btn_reg" value="注册" /></span>
            </div>
        </form>
    </div>

    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){       /* placeholder */
        if($.browser.msie == true && $.browser.version.slice(0,3) < 10) {
            $('input[placeholder]').each(function(){
                var input = $(this);
                $(input).val(input.attr('placeholder'));

                $(input).focus(function(){
                 if (input.val() == input.attr('placeholder')) {
                     input.val('');
                 }
             });

                $(input).blur(function(){
                    if (input.val() == '' || input.val() == input.attr('placeholder')) {
                        input.val(input.attr('placeholder'));
                    }
                });
            });
        }
    });
    $('#btn_reg').click(function(){
        $('.error-msg').text('');        /* 清除错误消息 */

        if($('#tx_user').val() == ''){      /* 校验 */
            $('.error-msg').text('用户名不能为空！');
            return false;
        }
        if($('#tx_pwd').val() == ''){
            $('.error-msg').text('密码不能为空！');
            return false;
        }
        if($('#tx_c_pwd').val() == ''){
            $('.error-msg').text('确认密码不能为空！');
            return false;
        }

        /* 注册用户*/
        // $.post(url, {
        //     'user': $('#tx_user').val(),
        //     'pwd': $('#tx_pwd').val(),
        //     'c_pwd': $('#tx_c_pwd').val()
        // }, function (ret) {
        //     if(ret['rt']){
        //         $.post(url, {           /* 登录后台*/
        //             'user': $('#tx_user').val(),
        //             'pwd': $('#tx_pwd').val()
        //         }, function (ret) {
        //             if(ret['rt']){
                        document.location.replace('index.html');
        //             }else{
        //                 $('.error-msg').text(ret.error);
        //             }
        //         },'json');
        //     }else{
        //         $('.error-msg').text(ret.error);
        //     }
        // },'json');
    })
</script>
</body>
</html>
